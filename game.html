<head>
  <meta charset="utf-8">
</head>
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link src="style.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Changa+One&display=swap" rel="stylesheet" />
<audio id="audio" loop src="song.mp3"></audio>
<div style="display: none;" id="hpScale"> 1 </div>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400..700&display=swap');

  body {
    background-color: black;
    font-family: "Pixelify Sans", sans-serif;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
  }
</style>
<div style="position: relative; display: inline-block">
  <canvas onclick="playMusic()"></canvas>
  <div onclick="refreshPage()" id="gameOver" style="
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      display: none;
      align-items: center;
      justify-content: center;
      font-size: 72px;
      color: white;
      background-color: rgba(128, 128, 128, 0.5);
      -webkit-text-stroke: 3px black;
    "> GAME OVER </div>
  <div style="
      position: absolute;
      top: 0;
      right: 0;
      width: 400px;
      height: 80px;
      background: linear-gradient(
        to left bottom,
        rgba(0, 0, 0, 0.8),
        rgba(0, 0, 0, 0),
        rgba(0, 0, 0, 0)
      );
    "></div>
  <div style="
      position: absolute;
      top: 4px;
      right: 8px;
      font-size: 36px;
      color: white;
      -webkit-text-stroke: 2px black;
      display: flex;
      align-items: center;
    ">
  <div style="display: flex; flex-direction: row; width: 100%;">
    <!-- wave -->
    <div style="display: flex; align-items: center; margin-right: 20px;">
      <svg  version="1.0" xmlns="http://www.w3.org/2000/svg"  width="45px" height="45px" viewBox="0 0 252.000000 262.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,262.000000) scale(0.050000,-0.050000)" fill="#000000" stroke="none"> <path d="M2260 4661 c-1657 -171 -2340 -1993 -1125 -3003 l125 -104 0 -291 c0 -479 82 -573 500 -573 l230 0 6 209 c6 233 28 281 127 281 111 0 137 -55 137 -290 l0 -210 240 0 240 0 0 210 c0 235 26 290 137 290 99 0 121 -48 127 -281 l6 -209 230 0 c419 0 500 92 500 571 l0 294 95 78 c1422 1157 346 3225 -1575 3028z m-338 -1508 c339 -122 443 -558 195 -813 -240 -248 -642 -198 -804 100 -221 406 174 868 609 713z m1561 -29 c464 -241 287 -946 -237 -944 -346 2 -587 346 -466 666 111 294 429 420 703 278z"/> </g> </svg>       
      <div style="background-color: rgba(128, 128, 128, 0.5);" id="enemies">3</div>
    </div>
    <!-- wave -->
    <div style="display: flex; align-items: center; margin-right: 30px">
      <svg  version="1.0" xmlns="http://www.w3.org/2000/svg"  width="50px" height="50px" viewBox="0 0 300.000000 260.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,260.000000) scale(0.100000,-0.100000)" fill="#00ccff" stroke="none"> <path d="M1520 2165 c-141 -31 -230 -73 -339 -159 -173 -136 -267 -318 -295 -571 -12 -108 -18 -133 -43 -173 -41 -67 -93 -99 -188 -117 -66 -12 -85 -20 -107 -45 -27 -29 -28 -35 -28 -136 l0 -105 38 7 c98 16 172 37 245 69 l80 35 80 -37 c46 -20 125 -44 184 -56 l103 -20 103 20 c60 13 134 36 180 58 l77 36 81 -36 c101 -46 255 -79 324 -70 86 10 177 36 252 70 81 38 90 37 183 -10 45 -23 203 -64 248 -65 9 0 12 24 12 89 0 135 -15 162 -105 191 -56 18 -111 46 -173 88 -31 21 -64 35 -82 35 -16 0 -76 -23 -132 -51 -183 -93 -307 -92 -406 2 -55 51 -76 101 -76 181 0 122 62 221 171 272 109 51 218 39 329 -37 69 -47 104 -51 141 -14 37 37 28 92 -30 187 -111 178 -259 290 -459 348 -96 27 -277 34 -368 14z"/> <path d="M798 794 c-48 -19 -120 -39 -160 -45 -132 -20 -118 -8 -118 -103 0 -70 4 -88 23 -117 43 -64 120 -62 269 8 l77 36 70 -31 c188 -84 420 -79 603 14 l46 23 79 -34 c195 -84 383 -86 577 -5 l77 32 90 -41 c196 -91 279 -55 279 123 l0 75 -37 6 c-106 16 -198 38 -260 64 l-68 27 -83 -33 c-113 -46 -252 -66 -356 -53 -96 12 -134 22 -223 59 l-70 28 -58 -24 c-205 -87 -420 -87 -615 -1 l-56 25 -86 -33z"/> </g> </svg> 
      <div style="background-color: rgba(128, 128, 128, 0.5);" id="waves">1</div>
    </div>
    <!-- coins -->
    <div style="display: flex; align-items: center; margin-right: 20px">
      <svg style="width: 25px; color: gold; margin-right: 5px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor">
        <path d="M512 80C512 98.01 497.7 114.6 473.6 128C444.5 144.1 401.2 155.5 351.3 158.9C347.7 157.2 343.9 155.5 340.1 153.9C300.6 137.4 248.2 128 192 128C183.7 128 175.6 128.2 167.5 128.6L166.4 128C142.3 114.6 128 98.01 128 80C128 35.82 213.1 0 320 0C426 0 512 35.82 512 80V80zM160.7 161.1C170.9 160.4 181.3 160 192 160C254.2 160 309.4 172.3 344.5 191.4C369.3 204.9 384 221.7 384 240C384 243.1 383.3 247.9 381.9 251.7C377.3 264.9 364.1 277 346.9 287.3C346.9 287.3 346.9 287.3 346.9 287.3C346.8 287.3 346.6 287.4 346.5 287.5L346.5 287.5C346.2 287.7 345.9 287.8 345.6 288C310.6 307.4 254.8 320 192 320C132.4 320 79.06 308.7 43.84 290.9C41.97 289.9 40.15 288.1 38.39 288C14.28 274.6 0 258 0 240C0 205.2 53.43 175.5 128 164.6C138.5 163 149.4 161.8 160.7 161.1L160.7 161.1zM391.9 186.6C420.2 182.2 446.1 175.2 468.1 166.1C484.4 159.3 499.5 150.9 512 140.6V176C512 195.3 495.5 213.1 468.2 226.9C453.5 234.3 435.8 240.5 415.8 245.3C415.9 243.6 416 241.8 416 240C416 218.1 405.4 200.1 391.9 186.6V186.6zM384 336C384 354 369.7 370.6 345.6 384C343.8 384.1 342 385.9 340.2 386.9C304.9 404.7 251.6 416 192 416C129.2 416 73.42 403.4 38.39 384C14.28 370.6 .0003 354 .0003 336V300.6C12.45 310.9 27.62 319.3 43.93 326.1C83.44 342.6 135.8 352 192 352C248.2 352 300.6 342.6 340.1 326.1C347.9 322.9 355.4 319.2 362.5 315.2C368.6 311.8 374.3 308 379.7 304C381.2 302.9 382.6 301.7 384 300.6L384 336zM416 278.1C434.1 273.1 452.5 268.6 468.1 262.1C484.4 255.3 499.5 246.9 512 236.6V272C512 282.5 507 293 497.1 302.9C480.8 319.2 452.1 332.6 415.8 341.3C415.9 339.6 416 337.8 416 336V278.1zM192 448C248.2 448 300.6 438.6 340.1 422.1C356.4 415.3 371.5 406.9 384 396.6V432C384 476.2 298 512 192 512C85.96 512 .0003 476.2 .0003 432V396.6C12.45 406.9 27.62 415.3 43.93 422.1C83.44 438.6 135.8 448 192 448z" />
      </svg>
      <div style="background-color: rgba(128, 128, 128, 0.207);" id="coins">175</div>
    </div>
    <!-- hearts -->
    <div style="display: flex; align-items: center">
      <svg style="width: 35px; color: red; margin-right: 5px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" />
      </svg>
      <div style="background-color: rgba(128, 128, 128, 0.5);" id="hearts">1</div>
    </div>
    </div>
  </div>
</div>
<script src="js/placementTilesData.js"></script>
<script src="js/waypoints.js"></script>
<script src="js/classes/Sprite.js"></script>
<script src="js/classes/Building.js"></script>
<script src="js/classes/Enemy.js"></script>
<script src="js/classes/PlacementTile.js"></script>
<script src="js/classes/Projectile.js"></script>
<script src="js/index.js"></script>